# Prior-Auth Fastlane MVP

> Autonomous agentic development framework for building a clinic-safe prior authorization workflow system

## ğŸ¯ Project Overview

**Goal:** Ship a clinic-safe, No PHI Mode MVP that proves ROI on prior-auth operations without requiring EHR API approvals.

See [plan.md](../../plan.md) for complete product requirements.

## ğŸ¤– Agentic Framework Structure

This project is built using the **7-Level Agentic Prompt Framework** to enable autonomous development through GitHub issues.

```
apps/prior-auth-fastlane/
â”œâ”€â”€ .claude/
â”‚   â”œâ”€â”€ commands/          # Level 2 Workflow Prompts
â”‚   â”‚   â”œâ”€â”€ feature.md     # Plan new features
â”‚   â”‚   â”œâ”€â”€ bug.md         # Fix bugs
â”‚   â”‚   â”œâ”€â”€ chore.md       # Maintenance tasks
â”‚   â”‚   â”œâ”€â”€ implement.md   # Build from plan (Level 5 Higher-order)
â”‚   â”‚   â”œâ”€â”€ test.md        # Test implementation
â”‚   â”‚   â”œâ”€â”€ review.md      # Code review
â”‚   â”‚   â”œâ”€â”€ document.md    # Generate docs
â”‚   â”‚   â””â”€â”€ e2e/           # E2E test templates
â”‚   â””â”€â”€ agents/            # Specialized agents (future)
â”œâ”€â”€ adws/                  # ADW orchestration scripts (Python)
â”‚   â”œâ”€â”€ adw_plan_iso.py    # Phase 1: Planning
â”‚   â”œâ”€â”€ adw_build_iso.py   # Phase 2: Implementation
â”‚   â”œâ”€â”€ adw_test_iso.py    # Phase 3: Testing
â”‚   â”œâ”€â”€ adw_review_iso.py  # Phase 4: Review
â”‚   â”œâ”€â”€ adw_document_iso.py # Phase 5: Documentation
â”‚   â”œâ”€â”€ adw_ship_iso.py    # Phase 6: Ship (merge)
â”‚   â”œâ”€â”€ adw_sdlc_iso.py    # Complete SDLC chain
â”‚   â””â”€â”€ adw_modules/       # Shared Python modules
â”œâ”€â”€ agents/                # ADW state files (adw_state.json)
â”œâ”€â”€ specs/                 # Generated implementation plans
â”œâ”€â”€ app_docs/              # Application documentation
â””â”€â”€ ai_docs/               # AI/LLM documentation context

# App code will be generated by agents here:
# (Next.js app structure will be created by ADWs)
```

## ğŸš€ How Autonomous Development Works

### 1. Create GitHub Issue
```markdown
Title: Feature: Email Ingestion for Payer Communications
Body: Implement email ingestion system that receives payer emails...

/adw_sdlc_iso
```

### 2. Cron Agent Detects Issue
- GitHub Actions runs every 5 minutes
- Detects issues with `/adw_*` commands
- Extracts issue number, command, metadata

### 3. ADW Orchestrator Runs
```bash
# Automatically triggered by GitHub Actions
uv run adws/adw_sdlc_iso.py <issue-number>
```

### 4. Autonomous Execution
```
Plan â†’ Build â†’ Test â†’ Review â†’ Document â†’ Ship
  â†“      â†“       â†“       â†“         â†“        â†“
specs/ â†’ code â†’ tests â†’ PR    â†’ docs   â†’ merge
```

### 5. Zero Involvement
- All phases run autonomously in isolated git worktrees
- Progress posted to GitHub issue comments
- Auto-merges if all phases pass
- You only fix template issues, not code

## ğŸ“‹ Agentic Prompt Structure

All prompts follow the **Input â†’ Workflow â†’ Output** framework:

### Level 2 Workflow Prompt Template
```markdown
# Title

## Metadata
description: "One-sentence description"

## Purpose
Direct statement to agent about what this prompt does.

## Variables
variable_name: $1
another_var: $2
static_var: "hardcoded value"

## Workflow
1. First step
   - Sub-task detail
   - Another sub-task
2. Second step
3. Third step

## Report
Return exclusively: <expected output format>
```

## ğŸ§± Core Principles

Following TAC-11 Agentic Prompt Engineering lesson:

1. **Consistency Over Complexity** - Same structure every prompt
2. **The Trifecta** - Write for you, your team, and your agents
3. **Workflow is King** - Step-by-step plays are the most valuable section
4. **Composable Sections** - Mix and match only what you need
5. **Static vs Dynamic Variables** - Clear separation
6. **Input â†’ Workflow â†’ Output** - Always think in this pattern

## ğŸ¬ Quick Start (Manual Testing)

```bash
# 1. Set up environment
cd apps/prior-auth-fastlane
cp ../../.env.sample .env
# Edit .env with your API keys

# 2. Create a test GitHub issue
gh issue create --title "Feature: Test Feature" --body "Test description

/adw_plan_iso"

# 3. Run planning phase manually
uv run adws/adw_plan_iso.py <issue-number>

# 4. Check output
ls specs/  # See generated plan
cat agents/<adw-id>/adw_state.json  # See state
```

## ğŸ“š Tech Stack

**Determined by plan.md:**
- **Frontend:** Next.js 15 + TypeScript + Tailwind CSS 4.0
- **Auth:** Neon Auth
- **Database:** Neon Serverless Postgres
- **Storage:** Cloudflare R2
- **Email:** Mailgun
- **Queues:** Vercel Queues
- **Deployment:** Vercel
- **LLM:** OpenAI + Claude APIs

## ğŸ”§ Development Workflow

### For Humans (You)
1. Create GitHub issues with feature descriptions
2. Add `/adw_sdlc_iso` command
3. Monitor progress in issue comments
4. Fix template issues if agents get stuck
5. Review and approve final PRs (optional with ZTE)

### For Agents (Autonomous)
1. Receive issue via ADW orchestrator
2. Classify issue type (feature/bug/chore)
3. Generate implementation plan in isolated worktree
4. Implement code following plan
5. Run tests and validate
6. Self-review code quality
7. Generate documentation
8. Auto-merge if all checks pass

## ğŸ“– Next Steps

1. âœ… Project structure created
2. ğŸ”„ Build Level 2 Workflow prompts
3. â³ Copy & adapt ADW orchestration scripts
4. â³ Test manual execution
5. â³ Set up GitHub Actions
6. â³ Enable autonomous mode
7. â³ Build entire app via GitHub issues

---

**Built with the 7-Level Agentic Prompt Framework**
Learn more: See `../../tac-11agentic-prompt.txt`
